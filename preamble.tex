\usepackage{booktabs} % For formal tables
\usepackage{lipsum}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}

\usepackage{pgfplots}
\pgfplotsset{compat=1.14}
\usepackage[export]{adjustbox}
\usepackage{indentfirst}
\usepackage{makecell}
\usepackage{listings}
\lstset{basicstyle=\footnotesize\ttfamily,breaklines=true}
\lstset{framextopmargin=50pt,frame=bottomline}
\renewcommand*{\thefootnote}{\fnsymbol{footnote}}
\usepackage{xcolor}
\usepackage{booktabs}
\usepackage{graphicx}
\usepackage{textcomp}
\usepackage[capitalize, noabbrev, nameinlink]{cleveref}
\usepackage[binary-units]{siunitx}
\sisetup{
    detect-all,
    detect-inline-family=math,
    detect-inline-weight=math,
    detect-display-math=true
}
\DeclareSIUnit{\belmilliwatt}{Bm}
\DeclareSIUnit{\dBm}{\deci\belmilliwatt}

\usepackage{sourcecodepro}
\usepackage[inline]{enumitem}
\usepackage{amsmath}
\usepackage{pgf-umlsd}

\usepackage{tikz}
\usepackage{tikzpeople}
\usetikzlibrary{shapes,arrows.meta,positioning,automata,matrix,shapes.symbols}

\usepackage{caption}
\usepackage{subcaption}
\captionsetup{font=small,labelfont={bf,sf}, textfont={bf}}
\captionsetup[subfigure]{font={small}, textfont={normalfont}, labelfont={bf,sf}}
% numerals instead of letters for subfigures
%\renewcommand\thesubfigure{\arabic{subfigure}}
%\makeatletter
%\renewcommand\p@subfigure{\thefigure.}
%\makeatother


\usepackage[style=ACM-Reference-Format,
			backend=bibtex,
            sorting=none,
            sortcites,
            maxcitenames=2,
            %maxbibnames=3,
            %minbibnames=1,
            doi=false,
            isbn=false,
            url=false]{biblatex}
\AtEveryBibitem{\clearfield{pages}}
\AtEveryBibitem{\clearfield{volume}}
\AtEveryBibitem{\clearfield{number}}
%\AtBeginBibliography{\small}

\usepackage[]{todonotes}
%\usepackage{tabularx}
\usepackage{placeins} % to prevent floats to straying from sections

%\setlength{\belowcaptionskip}{-6mm}

% remove "Item" from cref to enumitem
\crefformat{enumi}{#2\textup{(#1)}#3}

\usepackage{verbatim} % for \begin{comment}
\newcommand{\markforremoval}[1]{\todo[inline]{MARKED FOR REMOVAL}\textcolor{red}{#1}\todo[inline]{MARKED FOR REMOVAL}}

% hack because ACM template still uses shit from the 90s
\renewcommand{\copyright}{\textcopyright}

% revision
\newenvironment{revision}[1][]
{\todo[inline]{#1}\color{red}}
{\ignorespacesafterend}

% hyperref should always be the last pkg loaded
\usepackage{hyperref}

%% extension for pgf-umlsd v0.5 2009/09/30, which TeXLive comes along
%% source: https://github.com/lyarbean/Tex-stuff

%% \sidelabel{thread}{side}{label}
%% side: left right above below
\newcommand{\sidelabel}[3]{
    \stepcounter{seqlevel}
    \path
    (#1)+(0.1,-\theseqlevel*\unitfactor-0.7*\unitfactor) node (messbeg) {};
    \draw (messbeg) node[#2] {#3};
}

%% mostly used between altblocks
%% \separateline[line style]{from}{to}
\newcommand{\separateline}[3][dotted, color=black, very thick]{
    \stepcounter{seqlevel}
    \path
    (#2)+(.1,-\theseqlevel*\unitfactor-.8*\unitfactor) node (from) {}
    (#3)+(-.1,-\theseqlevel*\unitfactor-.8*\unitfactor) node (to) {};
    \draw[#1] (from) -- (to);
}

%% \begin{altblock}{from}{condition}{to}
%% %%calls here
%% \end{altblock}
\newenvironment{altblock}[3]{
    \stepcounter{seqlevel}
    \path
    (#1)+(.1,-\theseqlevel*\unitfactor-\unitfactor) node (from) {}
    (#3)+(-.1,-\theseqlevel*\unitfactor-\unitfactor) node (to) {};
    \draw (from) node[above right] {[#2]};
}{}

%%
%\newcommand{\postlevel}{\addtocounter{seqlevel}{+1}}

%% \newthread[thread distance]{color fill style}{left}{right}
% \renewcommand{\newthread}[4][1]{
%     \newinst[#1]{#3}{#4}
%     \stepcounter{threadnum}
%     \node[below of=inst\theinstnum,node distance=1em] (thread\thethreadnum) {};
%     \tikzstyle{threadcolor\thethreadnum}=[fill=#2]
%     \tikzstyle{instcolor#3}=[fill=#2]
% }